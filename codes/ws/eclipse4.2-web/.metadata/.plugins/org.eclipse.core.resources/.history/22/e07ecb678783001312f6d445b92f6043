<?xml version="1.0" encoding="UTF-8"?>
<project name="ivy-tools" basedir=".." xmlns:ivy="antlib:org.apache.ivy.ant"
	default="default">

	<dirname property="antfile.dir" file="${ant.file.ivy-tools}"/>
	<property name="i.basedir" value="${antfile.dir}/.."/>
	<import file="${i.basedir}/ant/env-setting.xml" />
	
	<property name="ivy-repo.dir" value="${VMSHARE.DIR}/java/ivy-repo"/>
	<property name="ivy.dir" value="${java-tools.dir}/apache-ivy-2.2.0-bin-with-deps/apache-ivy-2.2.0"/>

	<target name="default">
	</target>
	
	<path id="ivy.lib.path">
	    <fileset dir="${ivy.dir}" includes="*.jar"/>
	</path>
	<taskdef resource="org/apache/ivy/ant/antlib.xml" onerror="report"
         uri="antlib:org.apache.ivy.ant" classpathref="ivy.lib.path"/>	
	
	<property name="ivy.default.ivy.user.dir" value="${ivy-repo.dir}"/>
	<property name="ivy.organisation" value="org.sharp"/>
	<ivy:settings/>
	
	<target name="install-ivy">
		<get src="http://archive.apache.org/dist/ant/ivy/2.2.0/apache-ivy-2.2.0-bin-with-deps.zip" 
			dest="${down.dir}/apache-ivy-2.2.0-bin-with-deps.zip" skipexisting="true"/>
		<unzip src="${down.dir}/apache-ivy-2.2.0-bin-with-deps.zip"
			dest="${java-tools.dir}/apache-ivy-2.2.0-bin-with-deps" overwrite="false"/>
	</target>
	
	<target name="setup-ivy-repo">
		<mkdir dir="${ivy-repo.dir}"/>
	</target>
	
</project>